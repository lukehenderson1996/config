(window.nanorep._chunk=window.nanorep._chunk||[]).push([[24],{110:function(t,e,n){"use strict";(function(t){var r=function(e,n,r){var a=[],i=0,u=void 0,o=void 0,c=0;for(n.lastIndex=c=0;(u=n.exec(e))&&(o=u.index+u[0].length,i!==u.index&&a.push(e.slice(i,u.index)),a.push(r.apply(null,u)),i=n.lastIndex,c!==n.lastIndex);)u.index===n.lastIndex&&n.lastIndex++,c=n.lastIndex;return a.length?o<e.length&&a.push(e.substr(o)):a.push(e),t.all(a).then(function(t){return t.join("")})};n.d(e,"a",function(){return r})}).call(this,n(22)["default"]())},16:function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return g}),n.d(e,"f",function(){return E});var r=n(4),a=n(18),i=n(81),u=n(7),o=null,c=!1,s=Object(i.a())(function(t,e,n){var r="string"==typeof t?[t]:t;return Object(a.a())().request({url:"/api/widget/v1/translation",params:{to:n,from:e,text:r.join("|")}}).then(function(t){var e=null,n=t.data;if(n&&n.length===r.length){e={};for(var a=0;a<n.length;a++)e[r[a]]=n[a].text}return e})}),l=function(t){return Object(a.a())().request({url:"/api/widget/v1/detectLanguage",params:{text:t}}).then(function(t){return t.langCode||null})},d=function(t){c=t,r.c().emit("dictUpdate")},f=function(t){return c&&o&&o[t]||t},g=function(t){o!==t&&(c=!!(o=t||null),r.c().emit("dictUpdate"))},E=function(t){g(o?Object(u.a())({},o,t):t),r.c().emit("dictUpdate")}},230:function(t,e,n){"use strict";n.r(e);var r=n(54),a=n(53),i=n(318),u=n(58),o=n(10),c=n(25),s=n(0),l=n(3),d={SUPPORT_CENTER_FIRST_ARTICLE:{name:"KEY - First Article Shown",reportOnce:!0,sampled:!0,params:function(){return{faqLength:"number"==typeof s.u().faqItemsCount?s.u().faqItemsCount:0,contextsNumber:Object(a.a())(s.u().context).length,kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null}}},MESSAGE_SHARE:{name:"MESSAGE - Share",sampled:!0},MESSAGE_GO_TO_ARTICLE:{name:"MESSAGE - Go to the article page",sampled:!0},MESSAGE_SUPPORT_CENTER_ARTICLE_OPENED:{name:"MESSAGE - Support Center Article Opened",sampled:!0,params:function(){return{kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null,userLanguage:Object(l.r())()}}},LIVECHAT_FILE_UPLOAD_INIT:{name:"LIVECHAT - File Upload Initiated"},LIVECHAT_FILE_UPLOAD_SUCCESS:{name:"LIVECHAT - File Upload Success"},LIVECHAT_TRANSCRIPT:{name:"LIVECHAT - Transcript Send Initiated"},LIVECHAT_QUEUE_LEFT:{name:"LIVECHAT - Queue Left"},LIVECHAT_IN_QUEUE:{name:"LIVECHAT - In Queue",reportOnce:!0,params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_AGENT_ACCEPTED:{name:"LIVECHAT - Agent Accepted",params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_UNAVAILABLE:{name:"LIVECHAT - Unavailable",params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_POSTCHAT_SUBMIT:{name:"LIVECHAT - Post-Chat Submitted",params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_POSTCHAT_PRESENTED:{name:"LIVECHAT - Post-Chat Presented",params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_PRECHAT_SUBMIT:{name:"LIVECHAT - Pre-Chat Submitted",params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_PRECHAT_PRESENTED:{name:"LIVECHAT - Pre-Chat Presented",params:function(){return{chatProvider:Object(c.b())()}}},LIVECHAT_TASKBOT_INITIATED:{name:"LIVECHAT - Taskbot initiated"},LIVECHAT_TASKBOT_FINISHED:{name:"LIVECHAT - Taskbot finished"},LIVECHAT_TASKBOT_INTERRUPTED:{name:"LIVECHAT - Taskbot interrupted"},CHAT_MESSAGE:{name:"MESSAGE - Chat with live agent received",sampled:!0,params:function(){return{chatProvider:Object(c.b())()}}},MESSAGE_BOT_QUERY:{name:"MESSAGE - Bot Query",sampled:!0,params:function(){return{kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null,autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())(),autocompleteEnabled:Object(s.l())(),faqCount:s.u().faqAnswersCount||0,queryLengthHardLimit:s.u().cnf&&s.u().cnf.userQueryMaxLength||null,queryLengthWarningLimit:s.u().cnf&&s.u().cnf.userQueryLengthForWarning||null,taskbotQuery:!1}}},MESSAGE_ANSWER_OPENED:{name:"MESSAGE - Answer opened from answer list",sampled:!0,params:function(){return{kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null,userLanguage:Object(l.r())(),autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},FIRST_QUERY_TO_BOT:{name:"KEY - First Query to Bot Sent",reportOnce:!0,params:function(){return{welcomeArticle:!(!s.u().cnf||!Object(s.g())(s.u().cnf.onloadQuestionId)),contextCount:Object(a.a())(s.u().context).length,kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null,touchpointSkin:s.u().cnf&&s.u().cnf.skinName||null,autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())(),autocompleteEnabled:Object(s.l())(),faqCount:s.u().faqAnswersCount||0}}},FIRST_MESSAGE_TO_AGENT:{name:"KEY - First Message to Agent Sent",reportOnce:!0,params:function(){return{chatProvider:Object(c.b())()}}},CHANNELED:{name:"KEY - Channeled",params:function(){return{kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null,autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},FEEDBACK_SENT:{name:"FEEDBACK - Feedback Sent",params:function(){return{autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},FEEDBACK_TEXTUAL:{name:"FEEDBACK - Textual Feedback Sent",params:function(){return{autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},FEEDBACK_INACCURATE:{name:"FEEDBACK - Inaccurate",params:function(){return{autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},FEEDBACK_INVALID:{name:"FEEDBACK - Invalid",params:function(){return{autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},CONTACT_FORM_SENT:{name:"AICHAT - Contact form sent",params:function(){return{autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},CONTACT_FORM_FIELD:{name:"AICHAT - Contact form field",params:function(){return{autoTranslationSupported:Object(l.g())(),autoTranslationEnabled:Object(l.f())(),originalLanguage:Object(l.k())()}}},LANGUAGE_SELECTED:{name:"AICHAT - Change language",params:function(){return{kbLanguageCode:s.u().cnf&&s.u().cnf.kbLanguageCode||null,languageDetection:!1}}},WIDGET_MINIMIZED:{name:"WIDGET - Minimized"},WIDGET_RESUMED:{name:"WIDGET - Resumed",params:function(){return{showUnreadMessageCount:!(!s.u().cnf||!s.u().cnf.showUnreadMessageCount),tabTitleNotificationEnabled:!(!s.u().cnf||!s.u().cnf.browserTabTitleNotificationEnabled),unreadMessageCount:s.a().getCount()}}},TYPING_LIMIT_WARNING:{name:"TYPING - Warning Query Limit Reached",sampled:!0,params:function(){return{queryLengthHardLimit:s.u().cnf&&s.u().cnf.userQueryMaxLength||null,queryLengthWarningLimit:s.u().cnf&&s.u().cnf.userQueryLengthForWarning||null}}},TYPING_LIMIT_HARD:{name:"TYPING - Hard Query Limit Reached",sampled:!0,params:function(){return{queryLengthHardLimit:s.u().cnf&&s.u().cnf.userQueryMaxLength||null,queryLengthWarningLimit:s.u().cnf&&s.u().cnf.userQueryLengthForWarning||null}}},INACTIVITY_ARTICLE:{name:"INACTIVITY - Article shown"},SUGGEST_ARTICLE_CLICK:{name:"SUGGEST_ARTICLE - Suggest article button clicked"},SUGGEST_ARTICLE_SEND:{name:"SUGGEST_ARTICLE - Suggest article send"},SUGGEST_ARTICLE_CANCEL:{name:"SUGGEST_ARTICLE - Suggest article canceled"}},f={ACTION_SOURCE_TYPED:"typed message",ACTION_SOURCE_AUTOCOMPLETE:"auto-complete",ACTION_SOURCE_FAQ:"faq",ACTION_SOURCE_VOICE:"voice",ACTION_SOURCE_CATEGORY_BROWSING:"category browsing",ACTION_SOURCE_PERSISTENT_BUTTON:"persistent button",ACTION_SOURCE_PERSISTENT_MENU:"persistent menu",ACTION_SOURCE_QUICK_BUTTON:"quick button",CONTACT_FORM_TARGET_EXTERNAL:"External URL",CONTACT_FORM_TARGET_SCRIPT:"Custom Script",CONTACT_FORM_TARGET_TICKETING:"Ticketing",ESCALATE_LIVE_AGENT:"Live Agent",ESCALATE_PHONE:"Phone",ESCALATE_TICKET:"Ticket",ESCALATE_CUSTOM_URL:"Custom URL",ESCALATE_CUSTOM_SCRIPT:"Custom Script",FEEDBACK_TYPE_SCHEDULED:"conversational",FEEDBACK_TYPE_INSTANT:"instant",FEEDBACK_UI_MODE_THUMBS:"icons",FEEDBACK_UI_MODE_TEXTUAL:"text",FLOAT_WIDGET_MODE_NORMAL:"normal",FLOAT_WIDGET_MODE_TEASER:"minimized",MESSAGE_TYPE_LIST:"list",MESSAGE_TYPE_CAROUSEL:"carousel",MESSAGE_TYPE_SIMPLE:"simple",MESSAGE_TYPE_USER:"user",MESSAGE_TYPE_AGENT:"agent",MESSAGE_TYPE_SYSTEM:"system",SKIN_SLIM:"slim",SKIN_SLIM_SIDE:"slim side",SKIN_SLIM_HARMONY:"harmony",WEB_TOUCHPOINT_CONVERSATION:"conversation",WEB_TOUCHPOINT_SEARCH:"search",WEB_TOUCHPOINT_ADVISE:"advise search",WEB_TOUCHPOINT_SUPPORT_CENTER:"support center",WEB_TOUCHPOINT_WIDGET:"widget",WEB_TOUCHPOINT_TYPE_CHROME_EXTENSION:"chrome extension",WEB_TOUCHPOINT_TYPE_SALESFORCE_WIDGET:"salesforce widget"},g=function(){var t=s.u().cnf,e=t.advise&&t.advise.touchpointType,n=(t.skinName||"").toLowerCase(),a=n.indexOf("side widget")>-1?"SKIN_SLIM_SIDE":n.indexOf("harmony")>-1?"SKIN_SLIM_HARMONY":"SKIN_SLIM",c=e?"WEB_TOUCHPOINT_ADVISE":t.widgetMode===s.w().conversational?"WEB_TOUCHPOINT_CONVERSATION":"WEB_TOUCHPOINT_SEARCH",l="chrome-extension"===e?"WEB_TOUCHPOINT_TYPE_CHROME_EXTENSION":"salesforce-widget"===e?"WEB_TOUCHPOINT_TYPE_SALESFORCE_WIDGET":null,g=new(i.a())({events:d,textVariables:f,samplingLevel:t.eventTrackingSamplingLevel,storage:new(r.a())({name:Object(u.c())(t)}),identityParams:{kbName:t.kbName},commonParams:function(){return{skin:a,touchpointType:l,webTouchpointMode:c,kbName:t.kbName,trackingSessionId:s.u().trackingSessionId}},submitHandler:function(t){return Object(o.g())({sid:t.sid||null,eventParams:JSON.stringify(t.eventParams),identityParams:t.sid?null:JSON.stringify(t.identityParams),eventName:t.eventName}).then(function(e){t.sid||g.setSID(e.sid)})}});return g};n.d(e,"default",function(){return g})},3:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return k}),n.d(e,"j",function(){return w}),n.d(e,"p",function(){return R}),n.d(e,"h",function(){return U}),n.d(e,"e",function(){return M}),n.d(e,"d",function(){return H}),n.d(e,"i",function(){return x}),n.d(e,"B",function(){return D}),n.d(e,"c",function(){return B}),n.d(e,"o",function(){return V}),n.d(e,"w",function(){return F}),n.d(e,"x",function(){return q}),n.d(e,"C",function(){return K}),n.d(e,"q",function(){return W}),n.d(e,"y",function(){return Q}),n.d(e,"l",function(){return Y}),n.d(e,"E",function(){return z}),n.d(e,"t",function(){return J}),n.d(e,"F",function(){return X}),n.d(e,"r",function(){return Z}),n.d(e,"u",function(){return $}),n.d(e,"g",function(){return tt}),n.d(e,"f",function(){return et}),n.d(e,"k",function(){return nt}),n.d(e,"G",function(){return rt}),n.d(e,"D",function(){return ut}),n.d(e,"s",function(){return ot}),n.d(e,"b",function(){return ct}),n.d(e,"A",function(){return st}),n.d(e,"n",function(){return lt}),n.d(e,"z",function(){return dt}),n.d(e,"m",function(){return ft}),n.d(e,"v",function(){return gt});var r=n(5),a=n.n(r),i=n(6),u=n.n(i),o=n(2),c=n.n(o),s=n(20),l=n(0),d=n(34),f=n(16),g=n(8),E=n(4),p=n(29),T=n(42),m=n(24),b=n(52),O=n(7),h=n(53),_=n(110),S=n(47),C=n(23),v=n(14),I=n(48),A=50,L=15,y=null,j=null,P=!1,N=320,k=500,w={user:1,bot:2,agent:3,status:4,date:5},R=function(t){for(var e=Object(h.a())(w),n=0;n<e.length;n++){var r=e[n];if(w[r]===t)return r}return t},U=function(t){return I.a().retrieveLocalToken().then(function(e){return(t=Object(O.a())({},l.u().metaData,{apiKey:l.u().apiKey||null,enableLog:l.u().enableLog||null,disableStatistics:l.u().preview||null,domainId:(l.u().cnf?l.u().cnf.id:null)||l.u().forceConfigId||null,kb:(l.u().cnf?l.u().cnf.kbId:null)||l.u().kb||null,account:l.u().account||null,context:l.u().context||null,textOnly:!1,entities:l.u().initializedEntities?Object(l.b())(l.u().initializedEntities,!0):null,supportedEntities:(l.u().clientEntities?Object(h.a())(l.u().clientEntities).join(","):null)||null,visitorToken:e},t)).context&&(t.context=Object(l.b())(t.context)),Object(C.a())({url:Object(l.e())()+"/api/conversation/v2/create",timeout:11e3,params:t}).then(function(t){return I.a().persistTokenResponse(t)})})},M=function(t){return Object(C.a())({url:Object(l.e())()+"/api/conversation/v2/autoComplete",timeout:11e3,params:t})},H=function(t,e){return Object(C.a())({method:"POST",url:Object(l.e())()+"/api/conversation/v1/statement",timeout:11e3,params:t}).then(function(n){var r=n.missingEntities;return r&&r.length&&!e?at(n).then(function(e){return t.entities=JSON.stringify(e),H(t,!0).then(function(t){return t.missingEntities&&(Object(v.a())("failed to provide entities: "+JSON.stringify(e)),t.text=JSON.stringify(t.missingEntities)),t})}):n}).then(it)},x=function(t){return Object(C.a())({url:Object(l.e())()+"/api/conversation/v1/createFeedbackResponse",timeout:11e3,params:t})},D=function(t){return Object(C.a())({url:Object(l.e())()+"/api/conversation/v1/setContext",timeout:11e3,params:t})},G=function(t){return Object(C.a())({url:Object(l.e())()+"/api/conversation/v1/getEntities",timeout:11e3,params:t})},B=function(){function t(e){for(var n in c()(this,t),e)e.hasOwnProperty(n)&&(this[n]=e[n]);this.html=this.html||Object(b.a())(this.text||""),this.text=this.text||Object(T.a())(this.html||""),this.time&&(this.time=new Date(this.time)),this.id=this.id||Object(p.a())()}return t.prototype.serialize=function(){for(var t={},e=["id","articleId","articleMeta","type","original","date","html","answersCaption","persistentOptions","avatar","time","responseType","multiAnswers"],n=0;n<e.length;n++){var r=e[n],a=this[r];(a instanceof Array?a.length>0:!!a)&&(t[r]=a)}return t},t}(),V=function(t){var e="";switch(t.type){case w.user:e=Object(g.g())("chat.visitor");break;case w.bot:e=Object(g.g())("chat.bot");break;case w.agent:e=Object(g.g())("chat.agent")}return e?Object(g.g())("chat.messageFrom").replace("%1",e)+".":""},F=function(t){l.u().clientEntities=t},q=function(t){l.u().clientMethods=t},K=function(t){A=t},W=function(){return A},Q=function(t){L=t},Y=function(){return L},z=function(t){P=t},J=function(){return P},X=function(t){j=t},Z=function(){return j},$=function(){return!!j},tt=function(){var t=l.u().cnf;return!!(t&&t.translationSupportedLanguages&&t.translationSupportedLanguages.length)},et=function(){return!(!y&&!l.u().searchTranslationLanguage)},nt=function(){return y||l.u().searchTranslationLanguage||null},rt=function(e){var n=l.u().cnf;if(!n)return t.resolve();if(null===e)return y=null,l.u().activeTranslationLanguage=null,Object(g.k())(n.kbLanguageCode).then(function(){Object(f.c())(null),s.a().setUILanguage(n.kbLanguageCode),E.c().emit("dictUpdate"),E.c().emit("toggleTranslationMode",!1)}),t.resolve();var r=n&&n.translationSupportedLanguages,a=!1;if(r)for(var i=0;i<r.length;i++)if(r[i]===e){a=!0;break}if(!a)throw new Error('Language "'+e+'" is not supported for dynamic translations');y=e,l.u().activeTranslationLanguage=e;var u=[n.initialText,n.titleNormalText,n.titleTeaserText],o=n.conversationSettings&&n.conversationSettings.data;if(o&&o.feedbackPerAnswer&&u.push(Object(g.g())("feedback.received"),Object(g.g())("feedback.actionPrompt"),Object(g.g())("feedback.actionButton"),Object(g.g())("feedback.actionClarify"),n&&n.feedbackSubmissionText||Object(g.g())("thumbs.dialogTitle"),n&&n.feedbackProblemWithAnswerText||Object(g.g())("feedback.missingOrIncorrectInfo"),n&&n.feedbackSearchProblemText||Object(g.g())("feedback.incorrectSearchResult"),n&&n.feedbackCustomiseText||Object(g.g())("survey.title"),n&&n.feedbackPositiveButtonText||Object(g.g())("survey.yes"),n&&n.feedbackNegativeButtonText||Object(g.g())("survey.no")),o&&o.persistentMenuValues){var c=Object(l.r())(o.persistentMenuValues);for(var d in c)c.hasOwnProperty(d)&&u.push(c[d])}return n&&n.longUserQueryWarningText&&u.push(n.longUserQueryWarningText),t.all([Object(f.e())(u,n.kbLanguageCode,e),Object(g.k())(e)]).then(function(t){var n=t[0];s.a().setUILanguage(e),Object(f.c())(n),E.c().emit("dictUpdate"),E.c().emit("toggleTranslationMode",!0)})["catch"](function(){Object(g.k())(n.kbLanguageCode),Object(f.c())(null),E.c().emit("toggleTranslationMode",!1)})},at=function(e){for(var n=e.missingEntities,r=l.u().clientEntities,a=[],i=0;i<n.length;i++){var u=n[i];if(r&&r[u]){var o=r[u](e);a.push(Object(d.b())(o)?o:t.resolve(o))}}return t.all(a)},it=function(e){var n=l.u().clientMethods;return n&&"string"==typeof e.text?Object(_.a())(e.text,/\{\{(.*\(.*\).*)\}\}/g,function(e,r){var a=Object(S.a())("return "+r,n);return Object(d.b())(a)?a:t.resolve(a)}).then(function(t){return e.text=t,e}):e},ut=function(t){N=t},ot=function(){return N},ct=function(e){function n(){c()(this,n);var t=a()(this,e.call(this));return t.cid=null,t}return u()(n,e),n.prototype.setConversationId=function(t){this.cid=t,l.u().trackingSessionId||(l.u().trackingSessionId=t)},n.prototype.reset=function(){return this.initRequest&&(this.initRequest.cancel(),this.initRequest=null),this.cid=null,this},n.prototype.start=function(){var e=this;return this.initRequest||(this.cid?this.initRequest=Object(d.a())(t.resolve()):this.initRequest=this.request(U).then(function(t){e.cid=t.id,e.emit("changeId",e.cid)})),this.initRequest},n.prototype.request=function(e){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity,i=new t(function(t,i){var u=0,o=function(){++u>a?i():(r.id=r.id||n.cid,e(r).then(function(e){e&&"Conversation_not_found"===e.error?(r.id=null,n.reset().start().then(o)):t(e)})["catch"](function(){setTimeout(function(){n.cid?o():e===U?o():n.reset().start().then(o)},4e3)}))};o()});return Object(d.a())(i)},n.prototype.addStatement=function(t){var e=this;return this.start().then(function(){return y&&(t.queryLanguageCode=t.queryLanguageCode||y),e.request(H,t,5).then(function(t){return y&&(l.u().lastQueryTranslation=t&&t.statement),t})})},n.prototype.createFeedbackResponse=function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return this.start().then(function(){return y&&(e.queryLanguageCode=e.queryLanguageCode||y),t.request(x,e,5)})},n.prototype.getEntities=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return this.request(G,t,5)},n.prototype.autoComplete=function(){var e=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.resolve().then(function(){return e.start}).then(function(){return e.request(M,n,5)});return Object(d.a())(r)},n.prototype.setContext=function(e){var n=this;return e=Object(O.a())({},e),l.u().context=e.context,this.initRequest||this.cid?this.start().then(function(){return e.context&&(e.context=Object(l.b())(e.context)),n.request(D,e,5)}):t.resolve()},n}(m.a()),st=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;l.u().animatedQuickOption=t},lt=function(){return l.u().animatedQuickOption},dt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;l.u().animatedPersistentOption=t},ft=function(){return l.u().animatedPersistentOption},gt=function(){return l.u().welcomeModeParams||l.u().cnf&&l.u().cnf.welcomeMode&&l.u().cnf.onloadQuestionId>-1}}).call(this,n(22)["default"]())},318:function(t,e,n){"use strict";(function(t){var r=n(2),a=n.n(r),i=n(7),u=n(37),o=function(){function e(t){if(a()(this,e),this._options=Object(i.a())({storage:null,storageKey:"tracking",events:{},commonParams:{},identityParams:{},textVariables:{},storageLifetime:864e5,submitHandler:null,samplingLevel:1,getSampledValue:function(){return Math.random()}},t),!this._options.storage)throw new Error('"storage" is not specified in EventTracker options');if(!this._options.submitHandler)throw new Error('"submitHandler" is not specified in EventTracker options');this._queue=[],this._state={},this._loadState()}return e.prototype.getSID=function(){return this._state.sid||null},e.prototype.setSID=function(t){this._updateState({sid:t})},e.prototype.track=function(e,n){var r=this,a=this._options.events[e];if(a.sampled&&!this._isSampledEventAllowed())return t.resolve();this._isStorageExpired()&&(this._state={},this._initState());var i=this._collectEventParams(a,n);return new t(function(t){if(a.reportOnce){if(r._state[e])return void t();var n;r._updateState(((n={})[e]=!0,n))}r._enqueueRequest({event:a,eventData:i,resolve:t})})},e.prototype._getAllParams=function(){for(var t,e,n={},r=["commonParams","identityParams","textVariables"],a=0;a<r.length;a++)t=r[a],"function"==typeof(e=this._options[t])&&(e=e()),n[t]=e;return n},e.prototype._collectEventParams=function(t,e){var n=this._getAllParams(),r=n.commonParams,a=n.identityParams,u=n.textVariables,o="function"==typeof t.params?t.params():t.params,c={eventName:t.name,eventParams:Object(i.a())({},r,o,e),identityParams:a};for(var s in c.eventParams)if(c.eventParams.hasOwnProperty(s)){var l=c.eventParams[s];if(null!==l&&l!==undefined){var d=u[l];d&&(c.eventParams[s]=d)}else delete c.eventParams[s]}return c},e.prototype._enqueueRequest=function(t){this._queue.push(t),this._processQueue()},e.prototype._processTask=function(e,n){var r=e.event,a=e.eventData,i=e.resolve;a.sid=this.getSID(),r.sampled&&(a.eventParams.sampleRate=this._state.sampledValue);var u=function(){i(),n()};if(!r.sampled||this._isSampledEventAllowed()){var o=this._options.submitHandler(a);o instanceof t?o.then(u):u()}else u()},e.prototype._processQueue=function(){var t=this;if(!this._busy){var e=this._queue.shift();e&&(this._busy=!0,this._processTask(e,function(){t._busy=!1,t._processQueue()}))}},e.prototype._isSampledEventAllowed=function(){var t=this._state.sampledValue,e=this._options.samplingLevel;return"number"!=typeof t||"number"!=typeof e||this._state.sampledValue<=this._options.samplingLevel},e.prototype._isStorageExpired=function(){var t=this._state.createTime,e=Object(u.c())();return"number"==typeof t&&e-t>this._options.storageLifetime},e.prototype._initState=function(){var t=this._state,e=t.createTime,n=t.sampledValue,r=!1;"number"!=typeof e&&(r=!0,this._state.createTime=Object(u.c())()),"number"!=typeof n&&(this._state.sampledValue=this._options.getSampledValue(),r=!0),r&&this._updateState(this._state)},e.prototype._loadState=function(){var t=this;this._busy=!0,this._options.storage.get(this._options.storageKey).then(function(e){Object(i.a())(t._state,e),t._initState(),t._busy=!1,t._processQueue()})},e.prototype._updateState=function(t){return Object(i.a())(this._state,t),this._options.storage.set(this._options.storageKey,this._state)},e}();n.d(e,"a",function(){return o})}).call(this,n(22)["default"]())},47:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(21),a=n(14),i=function(t,e){try{if(e)return function(t,e){var n=[],r=[];for(var a in e)e.hasOwnProperty(a)&&(n.push(a),r.push(e[a]));return Function.call.apply(Function,[null].concat(n,[t])).apply(window,r)}(t,e);!function(t){if(t&&Object(r.a())(t))(window.execScript||function(t){return window.eval.call(window,t)})(t)}(t)}catch(n){Object(a.a())("failed to execute code:",{code:t,error:n})}}},52:function(t,e,n){"use strict";var r=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};n.d(e,"a",function(){return r})},58:function(t,e,n){"use strict";(function(t){n.d(e,"d",function(){return f}),n.d(e,"c",function(){return g}),n.d(e,"a",function(){return E}),n.d(e,"b",function(){return f});var r=n(20),a=n(13),i=n(21),u=n(14),o=n(7),c=n(0),s=n(48),l=n(23),d=n(36),f=function(e){var n=Object(o.a())({widgetType:c.x().embed,preview:!1},c.u(),e),r=n.referer,a=r===undefined?location.href:r,i=n.preview,d=n.widgetType,f=n.configId,g=Object(c.e())();return t.all([Object(l.a())({url:g+"/api/widget/v1/cnf",params:{format:"json",widgetType:d||null,kb:c.u().kbId||null,configId:f||null,preview:i,referer:a}}),s.a().sync()]).then(function(e){var n=e[0];return new t(function(t,e){n?(n.widgetType=d,c.u().cnf=n,c.u().apiHost||(n.accountUrl&&n.accountUrl.indexOf("/")<0?c.u().host=n.accountUrl:n.serverUrl&&(c.u().host=n.serverUrl)),n?t(n):e()):Object(u.a())('failed to load "'+d+'" cnf')})})},g=function(t){var e=c.u().customKey;if(e)return e;var n=t.widgetType,r=t.widgetMode===c.w().conversational?"conversational":"search",i=c.u().account,u="kb"+t.kbId;return a.b()+"."+n+"."+r+"."+i+"."+u},E=function(t){var e=p(t);t.customCSS&&r.a().Styles.addCustomStyles(t.customCSS),r.a().Styles.setVariables(e)},p=function(t){var e={},n=t.customCSS&&t.customCSS.match(/(?:\.widgetBGcolor(?:[^,]?){(?:.*?):(.*?)(?:;|}))/m);n&&(n=Object(i.a())(n[1]),Object(o.a())(e,{widgetPrimaryColor:n,widgetTitleBackground:n}));var a=t.customCSS&&t.customCSS.match(/nr-answering-answer-content.*?{.*?font-size:(.*?);[^{]/m);a&&(a=Object(i.a())(a[1]),Object(o.a())(e,{answerBodyFontSize:a}));var u=e.widgetPrimaryColor||r.a().Styles.getVariable("widgetTitleBackground")||"#000",c=t.customCSS&&t.customCSS.match(/\.answerTable TD A.*?{.*?color:(.*?);?}/m);c?(c=Object(i.a())(c[1]),Object(o.a())(e,{answerBodyLinkColor:c})):Object(o.a())(e,{answerBodyLinkColor:u});var s=r.a().Styles.getVariable("answerTitleColor"),l=u;Object(o.a())(e,{feedbackThumbsStroke:s,feedbackThumbsStrokeHover:l});var f=u,g=Object(d.c())(Object(d.h())(f,.09),.17),E=Object(d.c())(Object(d.h())(f,.34),.1),p=Object(d.h())(f,.9);Object(o.a())(e,{autolinkBackgroundColor:f,autolinkProgressColor:g,autolinkHoverColor:E,autolinkCancelColor:p});var T="number"==typeof t.sidewidgetOverlayOpacity?t.sidewidgetOverlayOpacity:.5,m=t.sidewidgetOverlayColor||"#000",b=t.widgetOpenerColor||r.a().Styles.getVariable("widgetSideOpenerColor");Object(o.a())(e,{widgetSideOverlayOpacity:T,widgetSideOverlayColor:m,widgetSideOpenerColor:b});var O=u;Object(o.a())(e,{convUserBackground:O});var h=t.customization;return Object(o.a())(e,{widgetBackgroundColor:h.widgetBackgroundColor,answerBodyColor:h.answerBodyColor,answerBodyFont:h.answerBodyFont||"inherit",answerTitleActiveColor:h.answerTitleColor,answerTitleFont:h.answerTitleFont||"inherit",widgetTitleFont:h.titleFont||"inherit"}),e}}).call(this,n(22)["default"]())},81:function(t,e,n){"use strict";var r=function(t){var e={};return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=JSON.stringify(r);if(e[i])return e[i];var u=t.apply(undefined,r);return e[i]=u,u}};n.d(e,"a",function(){return r})}}]);
//# sourceMappingURL=sourcemaps/product-events.js.map